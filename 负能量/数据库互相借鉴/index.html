<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="OLENCER.">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://olencer.github.io/负能量/数据库互相借鉴/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="平时上个数据库都不去，还借鉴成闭环。写个代码有这么难？那学啥计算机。敢把自己代码发出去也厉害，考试都照着我的答案念，改都不改。敢给别人借鉴，怕不是大作业想0分是吧。（可能老师说查，也是玩玩，这学校就这样） 聊天记录 作业要求 姜同学的代码123456789101112131415161718192021222324252627282930313233343536373839404142434445">
<meta property="og:type" content="article">
<meta property="og:title" content="2023&#x2F;06&#x2F;13 数据库互相借鉴">
<meta property="og:url" content="https://olencer.github.io/%E8%B4%9F%E8%83%BD%E9%87%8F/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%92%E7%9B%B8%E5%80%9F%E9%89%B4/index.html">
<meta property="og:site_name" content="竫酲OLENCER.">
<meta property="og:description" content="平时上个数据库都不去，还借鉴成闭环。写个代码有这么难？那学啥计算机。敢把自己代码发出去也厉害，考试都照着我的答案念，改都不改。敢给别人借鉴，怕不是大作业想0分是吧。（可能老师说查，也是玩玩，这学校就这样） 聊天记录 作业要求 姜同学的代码123456789101112131415161718192021222324252627282930313233343536373839404142434445">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://olencer.github.io/images/%E8%B4%9F%E8%83%BD%E9%87%8F/negative4-1.png">
<meta property="og:image" content="https://olencer.github.io/images/%E8%B4%9F%E8%83%BD%E9%87%8F/negative4-3.png">
<meta property="article:published_time" content="2023-06-13T14:00:00.000Z">
<meta property="article:modified_time" content="2023-06-14T07:35:44.089Z">
<meta property="article:author" content="OLENCER">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://olencer.github.io/images/%E8%B4%9F%E8%83%BD%E9%87%8F/negative4-1.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/favicon.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.jpg">
    <meta name="theme-color" content="#add8e6">
    <link rel="shortcut icon" href="/images/favicon.jpg">
    <!--- Page Info-->
    
    <title>
        
            2023/06/13 数据库互相借鉴 -
        
        OLENCER&#39;s blog.
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/assets/fonts.css">

    <!--- Font Part-->
    
    
    
        <link href="" rel="stylesheet">
    
    
        <link href="" rel="stylesheet">
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"olencer.github.io","root":"/","language":"en"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#add8e6","secondary":"#ffb6c1"},"global":{"fonts":{"chinese":{"enable":true,"family":"LXGWWenKai","url":null},"english":{"enable":true,"family":"JetBrainsMono","url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"static","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"竫酲OLENCER.","subtitle":{"text":["竫饮青从，醉享酲红。"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/OLENCER","instagram":null,"zhihu":null,"twitter":"https://twitter.com/0lencer","email":"jing255629@gmail.com"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.1.5","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Category":{"path":"/categories","icon":"fa-regular fa-folder"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}}};
    Global.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    Global.data_config = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                OLENCER&#39;s blog.
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        HOME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/categories"  >
                                    
                                        
                                            <i class="fa-regular fa-folder"></i>
                                        
                                        CATEGORY
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-archive"></i>
                                        
                                        ARCHIVES
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer">
        <ul class="drawer-navbar-list">
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                HOME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/categories"  >
                             
                                
                                    <i class="fa-regular fa-folder"></i>
                                
                                CATEGORY
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-archive"></i>
                                
                                ARCHIVES
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">2023/06/13 数据库互相借鉴</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/favicon.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">OLENCER.</span>
                            
                                <span class="author-label">Lv2</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-06-13 22:00</span>
        <span class="mobile">2023-06-13 22</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-06-14 15:35:44</span>
            <span class="mobile">2023-06-14 15:35</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E8%B4%9F%E8%83%BD%E9%87%8F/">负能量</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <p>平时上个数据库都不去，还借鉴成闭环。<br>写个代码有这么难？那学啥计算机。<br>敢把自己代码发出去也厉害，考试都照着我的答案念，改都不改。<br>敢给别人借鉴，怕不是大作业想0分是吧。（可能老师说查，也是玩玩，这学校就这样）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/%E8%B4%9F%E8%83%BD%E9%87%8F/negative4-1.png"
                     
                ><br><a href="/images/%E8%B4%9F%E8%83%BD%E9%87%8F/negative4-2.jpg">聊天记录</a></p>
<h3 id="作业要求"><a href="#作业要求" class="headerlink" title="作业要求"></a>作业要求</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/%E8%B4%9F%E8%83%BD%E9%87%8F/negative4-3.png"
                     
                ></p>
<h3 id="姜同学的代码"><a href="#姜同学的代码" class="headerlink" title="姜同学的代码"></a>姜同学的代码</h3><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database homework;</span><br><span class="line">use homework;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Bclass</span><br><span class="line">(</span><br><span class="line"> BigClassid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line"> BigCname <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Conzt</span><br><span class="line">(</span><br><span class="line"> conid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line"> coname <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> EquX</span><br><span class="line">(</span><br><span class="line"> equmoid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line"> equmoname <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Equ</span><br><span class="line">(</span><br><span class="line"> equid <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">primary</span> key,</span><br><span class="line"> brand <span class="type">char</span>(<span class="number">10</span>),</span><br><span class="line"> buycon <span class="type">char</span>(<span class="number">20</span>),</span><br><span class="line"> LicNum <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> Classid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> equconid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> modid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> PD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> buyD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> UseD <span class="type">float</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> buymo <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"> <span class="keyword">foreign</span> key(Classid) <span class="keyword">references</span> Bclass(BigClassid),</span><br><span class="line"> <span class="keyword">foreign</span> key(equconid) <span class="keyword">references</span> Conzt(conid),</span><br><span class="line"> <span class="keyword">foreign</span> key(modid) <span class="keyword">references</span> EquX(equmoid)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Clidxz</span><br><span class="line">(</span><br><span class="line"> CliXd <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line"> Xname <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Rentzt</span><br><span class="line">(</span><br><span class="line"> Rentconid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line"> Rentcname <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Clint</span><br><span class="line">(</span><br><span class="line">Clid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">CliName <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cxid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">ResPerson <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">RelaPerson <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Address <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Relaphone <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">foreign</span> key(Cxid) <span class="keyword">references</span> Clidxz(CliXd)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Rent</span><br><span class="line">(</span><br><span class="line">Rentid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">Requid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Rclid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Rtime <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">RD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Rmoney <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">ReturnD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">RoverD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">ReCid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">foreign</span> key(Requid) <span class="keyword">references</span> Equ(equid),</span><br><span class="line"><span class="keyword">foreign</span> key(Rclid) <span class="keyword">references</span> Clint(Clid),</span><br><span class="line"><span class="keyword">foreign</span> key(ReCid) <span class="keyword">references</span> Rentzt(Rentconid)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Fumoney</span><br><span class="line">(</span><br><span class="line">Fuq <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Fcid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Recordid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">ReFD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">ReFperson <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Reid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">foreign</span> key(Fcid) <span class="keyword">references</span> Rent(Rentid)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> BFei</span><br><span class="line">(</span><br><span class="line">Sid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">Scpername <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Scid <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">ScD <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Screason <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">foreign</span> key(Scid) <span class="keyword">references</span> Equ(equid)</span><br><span class="line">);</span><br><span class="line">租赁一台设备</span><br><span class="line">delimiter <span class="operator">|</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> saveRent(rid <span class="type">char</span>(<span class="number">10</span>),Rentthing <span class="type">char</span>(<span class="number">10</span>),person <span class="type">char</span>(<span class="number">10</span>),Rdate <span class="type">date</span>,</span><br><span class="line">Rlate <span class="type">date</span>,dollar <span class="type">int</span>,ghrq <span class="type">date</span>,gq <span class="type">date</span>,ztid <span class="type">char</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">declare</span> thing <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">per</span> <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">select</span> equid <span class="keyword">into</span> thing <span class="keyword">from</span> Equ <span class="keyword">where</span> Rentthing<span class="operator">=</span>euqid;</span><br><span class="line"><span class="keyword">select</span> Clid <span class="keyword">into</span> <span class="keyword">per</span> <span class="keyword">from</span> Clint <span class="keyword">where</span> person<span class="operator">=</span>Clid;</span><br><span class="line">if(thing <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">or</span> <span class="keyword">per</span> <span class="keyword">is</span> <span class="keyword">null</span>) <span class="keyword">then</span> </span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">update</span> Equ <span class="keyword">set</span> equconid<span class="operator">=</span>&quot;03&quot; <span class="keyword">where</span> Rentthing<span class="operator">=</span>equid;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Rent <span class="keyword">values</span>(rid,Rentthing,person,Rdate,Rlate,dollar,ghrq,gq,ztid);</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;<span class="operator">|</span></span><br><span class="line"></span><br><span class="line">报废一台设备</span><br><span class="line">报废状态编号“<span class="number">01</span>” “<span class="number">02</span>” “<span class="number">03</span>” “<span class="number">04</span>” “<span class="number">05</span>” 依次对应  故障、待租、租赁中、维修中、报废</span><br><span class="line">delimiter <span class="operator">|</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> saveBFei(Brid <span class="type">char</span>(<span class="number">10</span>),BSname <span class="type">char</span>(<span class="number">10</span>),Bequid <span class="type">char</span>(<span class="number">10</span>),Bdate <span class="type">date</span>,Bbea <span class="type">char</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line"><span class="keyword">declare</span> eid <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">select</span> equid <span class="keyword">into</span> eid <span class="keyword">from</span> Equ <span class="keyword">where</span> Bequid<span class="operator">=</span>equid;</span><br><span class="line">if(eid <span class="keyword">is</span> <span class="keyword">null</span>) <span class="keyword">then</span></span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line"><span class="keyword">update</span> Equ <span class="keyword">set</span> equconid<span class="operator">=</span>&quot;05&quot; <span class="keyword">where</span> equid<span class="operator">=</span>eid;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Bfei <span class="keyword">values</span>(Brid,BSname,Bequid,Bdate,Bbea);</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;<span class="operator">|</span></span><br><span class="line"></span><br><span class="line">接受一笔付款</span><br><span class="line">租赁状态编号 “<span class="number">01</span>” “<span class="number">02</span>” “<span class="number">03</span>” 分别对应 租赁中、已归还、已结款</span><br><span class="line">delimiter <span class="operator">|</span>                租赁编号，记录编号，收款账户</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> GainQ(fRid <span class="type">char</span>(<span class="number">10</span>),fid <span class="type">char</span>(<span class="number">10</span>),fsid <span class="type">char</span>(<span class="number">10</span>)) </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">declare</span> Rid <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">declare</span> money <span class="type">int</span>;</span><br><span class="line"><span class="keyword">declare</span> FD <span class="type">date</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">per</span> <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">select</span> Rentid <span class="keyword">into</span> Rid <span class="keyword">from</span> Rent <span class="keyword">where</span> fRid<span class="operator">=</span>Rentid;</span><br><span class="line"><span class="keyword">select</span> Rmoney <span class="keyword">into</span> money <span class="keyword">from</span> Rent <span class="keyword">where</span> fRid<span class="operator">=</span>Rentid;</span><br><span class="line"><span class="keyword">select</span> RoverD <span class="keyword">into</span> FD <span class="keyword">from</span> Rent <span class="keyword">where</span> fRid<span class="operator">=</span>Rentid;</span><br><span class="line"><span class="keyword">select</span> Rclid <span class="keyword">into</span> <span class="keyword">per</span> <span class="keyword">from</span> Rent <span class="keyword">where</span> fRid<span class="operator">=</span>Rentid;</span><br><span class="line">if(Rid <span class="keyword">is</span> <span class="keyword">null</span>) <span class="keyword">then</span></span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">update</span> Rent <span class="keyword">set</span> ReCid<span class="operator">=</span>&quot;03&quot; <span class="keyword">where</span> fRid<span class="operator">=</span>Rentid;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Fumoney <span class="keyword">values</span>(money,fRid,fid,FD,<span class="keyword">per</span>,fsid);</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;<span class="operator">|</span></span><br><span class="line"></span><br><span class="line">归还一台设备</span><br><span class="line">delimiter <span class="operator">|</span>           客户编号     设备号</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> GuiH(Rid <span class="type">char</span>(<span class="number">10</span>),eid <span class="type">char</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line"><span class="keyword">declare</span> Re <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">declare</span> eqid <span class="type">char</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">select</span> equid <span class="keyword">into</span> eqid <span class="keyword">from</span> Equ <span class="keyword">where</span> eid<span class="operator">=</span>equid;</span><br><span class="line"><span class="keyword">select</span> Rclid <span class="keyword">into</span> Re <span class="keyword">from</span> Rent <span class="keyword">where</span> Rclid<span class="operator">=</span>Rid;</span><br><span class="line">if(Re <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">or</span> eqid <span class="keyword">is</span> <span class="keyword">null</span>) <span class="keyword">then</span></span><br><span class="line"><span class="keyword">rollback</span>; </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">update</span> Rent <span class="keyword">set</span> Recid<span class="operator">=</span>&quot;02&quot; <span class="keyword">where</span> Requid<span class="operator">=</span>eid <span class="keyword">and</span> Rclid<span class="operator">=</span>Rid;</span><br><span class="line"><span class="keyword">update</span> Equ <span class="keyword">set</span> equconid<span class="operator">=</span>&quot;02&quot; <span class="keyword">where</span> equid<span class="operator">=</span>eid;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;<span class="operator">|</span></span><br><span class="line"></span><br><span class="line">创建视图</span><br><span class="line">设备租赁记录详细资料</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Rendetail <span class="keyword">as</span> <span class="keyword">select</span> equid,brand,buycon,LicNum,Classid,equconid,modid,PD,buyD,UseD,buymo,Rentid,Requid,Rclid,Rtime,RD,Rmoney,ReturnD,ReCid</span><br><span class="line"><span class="keyword">from</span> Equ,Rent</span><br><span class="line"><span class="keyword">where</span> equid<span class="operator">=</span>Requid</span><br><span class="line"><span class="keyword">with</span> <span class="keyword">check</span> option;</span><br><span class="line"></span><br><span class="line">设备详细资料</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Equdetail <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> Equ</span><br><span class="line"><span class="keyword">with</span> <span class="keyword">check</span> option;</span><br><span class="line"></span><br><span class="line">报废详细记录</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Bfdetail <span class="keyword">as</span> <span class="keyword">select</span> equid,brand,buycon,LicNum,Classid,equconid,modid,PD,buyD,UseD,buymo,Sid,Scpername,Scid,ScD,Screason</span><br><span class="line"><span class="keyword">from</span> Equ,Bfei</span><br><span class="line"><span class="keyword">where</span> equid<span class="operator">=</span>Scid</span><br><span class="line"><span class="keyword">with</span> <span class="keyword">check</span> option;</span><br><span class="line"></span><br><span class="line">查询某公司租用所有设备的详细记录</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> Rendetail</span><br><span class="line"><span class="keyword">where</span> Rclid<span class="operator">=</span>&quot;某公司编号“;</span><br><span class="line"></span><br><span class="line">查询某公司所有付款记录</span><br><span class="line"></span><br><span class="line">select *</span><br><span class="line">from Fumoney</span><br><span class="line">where ReFperson=&quot;某公司编号&quot;;</span><br><span class="line"></span><br><span class="line">查询某公司应付款总额</span><br><span class="line"></span><br><span class="line">select Recid,Rclid,sum(Rmoney)</span><br><span class="line">from Rent</span><br><span class="line">group by Rclid</span><br><span class="line">having ReCid !=&quot;<span class="number">03</span>&quot; and Rclid=&quot;某公司编号&quot;;</span><br><span class="line"></span><br><span class="line">查询某公司正在租用的设备详细信息</span><br><span class="line"></span><br><span class="line">select *</span><br><span class="line">from Rendetail</span><br><span class="line">where Rclid=&quot;某公司编号&quot; and ReCid=&quot;<span class="number">01</span>&quot;;</span><br><span class="line"></span><br><span class="line">查询报废设备详细记录</span><br><span class="line"></span><br><span class="line">select *</span><br><span class="line">from  Bfdetail</span><br><span class="line">where  equconid=&quot;<span class="number">05</span>&quot;;</span><br><span class="line"></span><br><span class="line">查询正在租用设备详细记录</span><br><span class="line"></span><br><span class="line">select * </span><br><span class="line">from  Equdetail</span><br><span class="line">where equconid=&quot;<span class="number">03</span>&quot;;</span><br><span class="line"></span><br><span class="line">按型号统计可租用设备数量</span><br><span class="line"></span><br><span class="line">select equconid, modid,count(modid)</span><br><span class="line">from  Equ</span><br><span class="line">group by(equid)</span><br><span class="line">having equconid=&quot;<span class="number">02</span>&quot;;</span><br><span class="line"></span><br><span class="line">按大类别统计现有资产数量 (不算折I日)</span><br><span class="line"></span><br><span class="line">select Reid,sum(Fuq)</span><br><span class="line">from Fumoney</span><br><span class="line">group by(Reid);</span><br><span class="line"></span><br><span class="line">统计报废设备资产额</span><br><span class="line"></span><br><span class="line">select sum(buymo)</span><br><span class="line">from Equ</span><br><span class="line">where equconid=&quot;<span class="number">05</span>&quot;;</span><br><span class="line"></span><br><span class="line">统计当前应收货款</span><br><span class="line"></span><br><span class="line">select sum(buymo)</span><br><span class="line">from Equ</span><br><span class="line">where equconid=&quot;<span class="number">03</span>&quot;;</span><br></pre></td></tr></table></figure></div>

<h3 id="我的代码（风格还没成型，献个丑。）"><a href="#我的代码（风格还没成型，献个丑。）" class="headerlink" title="我的代码（风格还没成型，献个丑。）"></a>我的代码（风格还没成型，献个丑。）</h3><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br></pre></td><td class="code"><pre><span class="line">#   <span class="number">1.1</span> 建立数据库</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> construction_machinery_leasing;</span><br><span class="line">USE construction_machinery_leasing;</span><br><span class="line"></span><br><span class="line">#   <span class="number">1.2</span> 建立基本表</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> payment_records;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> lease_records;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> device_scrapped_records;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> lease_customers;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> device;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> device_status;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> device_models;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> detailed_categories;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> major_categories;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> major_categories</span><br><span class="line">(</span><br><span class="line">    majorCategories_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    name               <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (majorCategories_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> majorCategories_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(majorCategories_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> majorCategories_name_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(name, <span class="string">&#x27;[A-Za-z]&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> detailed_categories</span><br><span class="line">(</span><br><span class="line">    detailedCategories_id <span class="type">CHAR</span>(<span class="number">10</span>)     <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    majorCategories_id    <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    name                  <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (detailedCategories_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> detailedCategories_majorCategories_majorCategories_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (majorCategories_id)</span><br><span class="line">            <span class="keyword">REFERENCES</span> major_categories (majorCategories_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> detailedCategories_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(detailedCategories_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> detailedCategories_name_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(name, <span class="string">&#x27;[A-Za-z]&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> device_models</span><br><span class="line">(</span><br><span class="line">    deviceModels_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    name            <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (deviceModels_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> deviceModels_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(deviceModels_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> deviceModels_name_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(name, <span class="string">&#x27;[w .]*&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> device_status</span><br><span class="line">(</span><br><span class="line">    deviceStatus_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    name            <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (deviceStatus_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> deviceStatus_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(deviceStatus_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> deviceStatus_name_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(name, <span class="string">&#x27;[w .]*&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> device</span><br><span class="line">(</span><br><span class="line">    device_id             <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    license               <span class="type">VARCHAR</span>(<span class="number">64</span>)   <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    brand                 <span class="type">VARCHAR</span>(<span class="number">128</span>)  <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    detailedCategories_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    deviceModels_id       <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    date_produced         <span class="type">DATE</span>         <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    date_purchased        <span class="type">DATE</span>          <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    durable_year          <span class="type">INT</span>          <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    price_purchased       <span class="type">DECIMAL</span>(<span class="number">9</span>, <span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    purchase_contract     <span class="type">VARCHAR</span>(<span class="number">64</span>)   <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    deviceStatus_id       <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    manager               <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (device_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> device_detailedCategories_detailedCategories_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (detailedCategories_id)</span><br><span class="line">            <span class="keyword">REFERENCES</span> detailed_categories (detailedCategories_id),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> device_deviceModels_deviceModels_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (deviceModels_id)</span><br><span class="line">            <span class="keyword">REFERENCES</span> device_models (deviceModels_id),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> device_deviceStatus_deviceStatus_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (deviceStatus_id)</span><br><span class="line">            <span class="keyword">REFERENCES</span> device_status (deviceStatus_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> brand_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(brand, <span class="string">&#x27;[w .]*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> device_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(device_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> license_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(license, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> manager_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(manager, <span class="string">&#x27;[w .]*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> purchase_contract_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(purchase_contract, <span class="string">&#x27;w*&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> lease_customers</span><br><span class="line">(</span><br><span class="line">    leaseCustomers_id  <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    company_name       <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    company_type       <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    responsible_person <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    contact_person     <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    address            <span class="type">VARCHAR</span>(<span class="number">256</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    contact_number     <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (leaseCustomers_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> address_check</span><br><span class="line">        <span class="keyword">CHECK</span> ((address <span class="keyword">IS</span> <span class="keyword">NULL</span>) <span class="keyword">OR</span> REGEXP_LIKE(address, <span class="string">&#x27;[w .]*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> company_name_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(company_name, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> company_type_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(company_type, <span class="string">&#x27;[a-zA-Z ]*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> contact_number_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(contact_number, <span class="string">&#x27;d*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> contact_person_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(contact_person, <span class="string">&#x27;[a-zA-z .]*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> leaseCustomers_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(leaseCustomers_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> responsible_person_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(responsible_person, <span class="string">&#x27;[a-zA-z .]*&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> device_scrapped_records</span><br><span class="line">(</span><br><span class="line">    deviceScrappedRecords_id <span class="type">CHAR</span>(<span class="number">10</span>)     <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    device_id                <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    date_scrapped            <span class="type">DATE</span>         <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    reason                   <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    manger_approval          <span class="type">VARCHAR</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (deviceScrappedRecords_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> deviceScrappedRecords_device_device_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (device_id) <span class="keyword">REFERENCES</span> device (device_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> deviceScrappedRecords_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(deviceScrappedRecords_id, <span class="string">&#x27;w*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> manger_approval_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(manger_approval, <span class="string">&#x27;[w .]*&#x27;</span>)),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> reason_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(reason, <span class="string">&#x27;[w .]*&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> lease_records</span><br><span class="line">(</span><br><span class="line">    leaseRecords_id   <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    device_id         <span class="type">CHAR</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    leaseCustomers_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    lease_time        <span class="type">DATE</span>          <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    lease_term        <span class="type">INT</span>           <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    lease_price       <span class="type">DECIMAL</span>(<span class="number">9</span>, <span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    date_returned     <span class="type">DATE</span>          <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    date_payment      <span class="type">DATE</span>     <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    deviceStatus_id   <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (leaseRecords_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> leaseRecords_deviceStatus_deviceStatus_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (deviceStatus_id)</span><br><span class="line">            <span class="keyword">REFERENCES</span> device_status (deviceStatus_id),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> leaseRecords_device_device_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (device_id) <span class="keyword">REFERENCES</span> device (device_id),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> leaseRecords_leaseCustomers_leaseCustomers_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (leaseCustomers_id)</span><br><span class="line">            <span class="keyword">REFERENCES</span> lease_customers (leaseCustomers_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> leaseRecords_id_check</span><br><span class="line">        <span class="keyword">CHECK</span> (REGEXP_LIKE(leaseRecords_id, <span class="string">&#x27;w*&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> payment_records</span><br><span class="line">(</span><br><span class="line">    paymentRecords_id  <span class="type">CHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    leaseRecords_id    <span class="type">CHAR</span>(<span class="number">10</span>)      <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    amount             <span class="type">DECIMAL</span>(<span class="number">9</span>, <span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    date_payment       <span class="type">DATE</span>          <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    account_payment    <span class="type">VARCHAR</span>(<span class="number">128</span>)  <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    account_collection <span class="type">VARCHAR</span>(<span class="number">128</span>)  <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (paymentRecords_id),</span><br><span class="line"></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> purchaseRecords_leaseRecords_leaseRecords_id_fk</span><br><span class="line">        <span class="keyword">FOREIGN</span> KEY (leaseRecords_id) <span class="keyword">REFERENCES</span> lease_records (leaseRecords_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#   <span class="number">1.3</span> 每个表录入不低于<span class="number">10</span>条实验数据</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> major_categories</span><br><span class="line">    <span class="keyword">VALUE</span> (<span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;mining&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;carrying&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;lifting&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;R1&#x27;</span>, <span class="string">&#x27;road&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;concrete&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;piling&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;B1&#x27;</span>, <span class="string">&#x27;bridge&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;R2&#x27;</span>, <span class="string">&#x27;road maintenance&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;C3&#x27;</span>, <span class="string">&#x27;compaction&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;stone&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;earth mover&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;port&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;A1&#x27;</span>, <span class="string">&#x27;asphalt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> detailed_categories</span><br><span class="line">    <span class="keyword">VALUE</span> (<span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;excavator&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;loader&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;T1&#x27;</span>, <span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;tunnel boring&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;shield&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;B1&#x27;</span>, <span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;bulldozer&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;scraper&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;F1&#x27;</span>, <span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;flatbed&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;D1&#x27;</span>, <span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;dump&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;T2&#x27;</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;tower&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;W1&#x27;</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;wheel&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;crawler&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;mast&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;cable&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> device_models</span><br><span class="line">    <span class="keyword">VALUE</span> (<span class="string">&#x27;DM1&#x27;</span>, <span class="string">&#x27;heavy&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM2&#x27;</span>, <span class="string">&#x27;medium&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM3&#x27;</span>, <span class="string">&#x27;light&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM4&#x27;</span>, <span class="string">&#x27;big&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM5&#x27;</span>, <span class="string">&#x27;large&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM6&#x27;</span>, <span class="string">&#x27;huge&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM7&#x27;</span>, <span class="string">&#x27;small&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM8&#x27;</span>, <span class="string">&#x27;tiny&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM9&#x27;</span>, <span class="string">&#x27;micro&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM10&#x27;</span>, <span class="string">&#x27;middle&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DM11&#x27;</span>, <span class="string">&#x27;other&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> device_status</span><br><span class="line">    <span class="keyword">VALUE</span> (<span class="string">&#x27;DS1&#x27;</span>, <span class="string">&#x27;fault&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS2&#x27;</span>, <span class="string">&#x27;to be leased&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;lease&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS4&#x27;</span>, <span class="string">&#x27;maintenance&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;scrapped&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS6&#x27;</span>, <span class="string">&#x27;returned&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS7&#x27;</span>, <span class="string">&#x27;paid&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS8&#x27;</span>, <span class="string">&#x27;normal&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS9&#x27;</span>, <span class="string">&#x27;shutdown&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS10&#x27;</span>, <span class="string">&#x27;hot standby&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;DS11&#x27;</span>, <span class="string">&#x27;cold standby&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> device</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;DE1&#x27;</span>, <span class="string">&#x27;4BB32B59AC06C59F032491111A263366&#x27;</span>, <span class="string">&#x27;Caterpillar&#x27;</span>, <span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;DM3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2004-08-26&#x27;</span>, <span class="string">&#x27;2005-09-15&#x27;</span>, <span class="number">15</span>, <span class="number">4980191.31</span>,</span><br><span class="line">        <span class="string">&#x27;96ef33a67a0a1b3af33d071cf2ea9670a59a334c&#x27;</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Zhou Chenyan&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE10&#x27;</span>, <span class="string">&#x27;FA119DAEB003CF8BDF543E55CC5803EF&#x27;</span>, <span class="string">&#x27;ZOOMLION&#x27;</span>, <span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;DM1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1994-12-02&#x27;</span>, <span class="string">&#x27;1994-11-01&#x27;</span>, <span class="number">50</span>, <span class="number">1672901.94</span>,</span><br><span class="line">        <span class="string">&#x27;2c27e955ec0ea27fbbafce841bd01161f06fa2e6&#x27;</span>, <span class="string">&#x27;DS1&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE11&#x27;</span>, <span class="string">&#x27;1191BE81FF3FA2117BE739278CDF89ED&#x27;</span>, <span class="string">&#x27;Hitachi&#x27;</span>, <span class="string">&#x27;D1&#x27;</span>, <span class="string">&#x27;DM11&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1977-01-29&#x27;</span>, <span class="string">&#x27;1977-02-25&#x27;</span>, <span class="number">85</span>, <span class="number">7766202.96</span>,</span><br><span class="line">        <span class="string">&#x27;7dd67371808507f08f7c99ff68b073673fbfb7eb&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Kong Qisui&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE12&#x27;</span>, <span class="string">&#x27;523E935BE091B9DBF9996AFA2B06D0CA&#x27;</span>, <span class="string">&#x27;LiuGong&#x27;</span>, <span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;DM9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2022-11-17&#x27;</span>, <span class="string">&#x27;2022-12-10&#x27;</span>, <span class="number">15</span>, <span class="number">4738422.88</span>,</span><br><span class="line">        <span class="string">&#x27;8160d5c44fe5fb0d49261c184b576b0c9e53bcd1&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Zhou Chenyan&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE13&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;DM8&#x27;</span>, <span class="string">&#x27;1974-06-08&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">80</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE14&#x27;</span>, <span class="string">&#x27;2D18CFDBD90FF1AB6235285F7CA18434&#x27;</span>, <span class="string">&#x27;Caterpillar&#x27;</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM7&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2010-07-23&#x27;</span>, <span class="string">&#x27;2010-09-22&#x27;</span>, <span class="number">20</span>, <span class="number">5070012.99</span>,</span><br><span class="line">        <span class="string">&#x27;1df2008dcf45fbb5b86b36a97fffe53e986018a2&#x27;</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE15&#x27;</span>, <span class="string">&#x27;C70DA08E26A753123C8C1A0A6D66378B&#x27;</span>, <span class="string">&#x27;Caterpillar&#x27;</span>, <span class="string">&#x27;M1&#x27;</span>, <span class="string">&#x27;DM4&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1988-02-25&#x27;</span>, <span class="string">&#x27;1988-04-25&#x27;</span>, <span class="number">55</span>, <span class="number">1563605.12</span>,</span><br><span class="line">        <span class="string">&#x27;99002e85f0b1f614630ca21a726b1568835880c7&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Wang Wu&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE16&#x27;</span>, <span class="string">&#x27;36DE501446A95966190471360850A858&#x27;</span>, <span class="string">&#x27;LiuGong&#x27;</span>, <span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;DM5&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1994-05-12&#x27;</span>, <span class="string">&#x27;1994-06-18&#x27;</span>, <span class="number">50</span>, <span class="number">5169887.28</span>,</span><br><span class="line">        <span class="string">&#x27;e8a478272d1bfa770269d1c9a23828e391d9c6c0&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Zhan Yangyu&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE17&#x27;</span>, <span class="string">&#x27;73236B22B608DBE375343D75AA27659E&#x27;</span>, <span class="string">&#x27;SANY&#x27;</span>, <span class="string">&#x27;F1&#x27;</span>, <span class="string">&#x27;DM1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2005-08-21&#x27;</span>, <span class="string">&#x27;2005-08-23&#x27;</span>, <span class="number">45</span>, <span class="number">8089292.69</span>,</span><br><span class="line">        <span class="string">&#x27;92a3636235ec4407a3c845775334c9633a836060&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Zhang San&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE18&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM2&#x27;</span>, <span class="string">&#x27;2001-06-07&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">30</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS2&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE19&#x27;</span>, <span class="string">&#x27;369532365F8028A46A5415094BB4D2F6&#x27;</span>, <span class="string">&#x27;KOMATSU&#x27;</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM5&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2007-04-11&#x27;</span>, <span class="string">&#x27;2007-04-28&#x27;</span>, <span class="number">30</span>, <span class="number">5078069.37</span>,</span><br><span class="line">        <span class="string">&#x27;85112c73176725aca11566234bf483d7a47bf3cd&#x27;</span>, <span class="string">&#x27;DS8&#x27;</span>, <span class="string">&#x27;Zhou Chenyan&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE2&#x27;</span>, <span class="string">&#x27;D21A310CF2D565D480B5FF3C84C71D38&#x27;</span>, <span class="string">&#x27;KOMATSU&#x27;</span>, <span class="string">&#x27;T1&#x27;</span>, <span class="string">&#x27;DM11&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1983-02-12&#x27;</span>, <span class="string">&#x27;1983-05-01&#x27;</span>, <span class="number">5</span>, <span class="number">618775.37</span>,</span><br><span class="line">        <span class="string">&#x27;d6568bb239de7cb7b7181e4236e4d27ab1bef866&#x27;</span>, <span class="string">&#x27;DS10&#x27;</span>, <span class="string">&#x27;Zhan Yangyu&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE20&#x27;</span>, <span class="string">&#x27;6AFE7145005FFFDC3F53DDEC052E5FF3&#x27;</span>, <span class="string">&#x27;XCMG&#x27;</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1993-11-19&#x27;</span>, <span class="string">&#x27;1993-11-30&#x27;</span>, <span class="number">55</span>, <span class="number">4315001.66</span>,</span><br><span class="line">        <span class="string">&#x27;04cd1d5714d829f5cdbb7212e7c0c94c3f422aad&#x27;</span>, <span class="string">&#x27;DS4&#x27;</span>, <span class="string">&#x27;Jiang Wende&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE3&#x27;</span>, <span class="string">&#x27;F08FC3782EA4E6DDC044BF0F90E37EBC&#x27;</span>, <span class="string">&#x27;SANY&#x27;</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;DM6&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1977-09-01&#x27;</span>, <span class="string">&#x27;1979-05-23&#x27;</span>, <span class="number">70</span>, <span class="number">6590293.03</span>,</span><br><span class="line">        <span class="string">&#x27;409fac563ebd833a50f7a3594b691625456428a7&#x27;</span>, <span class="string">&#x27;DS11&#x27;</span>, <span class="string">&#x27;Tian Yingxun&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE4&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;D1&#x27;</span>, <span class="string">&#x27;DM2&#x27;</span>, <span class="string">&#x27;2000-11-30&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">20</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Kong Qisui&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE5&#x27;</span>, <span class="string">&#x27;1E516ECB424FB685711197438B8FFE24&#x27;</span>, <span class="string">&#x27;ZOOMLION&#x27;</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1983-02-14&#x27;</span>, <span class="string">&#x27;1984-07-21&#x27;</span>, <span class="number">85</span>, <span class="number">4641567.70</span>,</span><br><span class="line">        <span class="string">&#x27;8deb24973d5e5aeb800b9ab941a6ff252eaf00bb&#x27;</span>, <span class="string">&#x27;DS10&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE54&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;DM2&#x27;</span>, <span class="string">&#x27;1996-09-19&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">50</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Zhan Yangyu&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE56&#x27;</span>, <span class="string">&#x27;5BF80CF05546FD8A039FE3B9CE674698&#x27;</span>, <span class="string">&#x27;SANY&#x27;</span>, <span class="string">&#x27;F1&#x27;</span>, <span class="string">&#x27;DM9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1992-08-25&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">30</span>, <span class="number">4980191.31</span>,</span><br><span class="line">        <span class="string">&#x27;7ff1708bfcb53bec8819e5f5f4c56f9bbf9fa1fa&#x27;</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Kong Qisui&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE6&#x27;</span>, <span class="string">&#x27;0FC83AA1E563198673B28EBB55C539BC&#x27;</span>, <span class="string">&#x27;LiuGong&#x27;</span>, <span class="string">&#x27;F1&#x27;</span>, <span class="string">&#x27;DM4&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2016-06-27&#x27;</span>, <span class="string">&#x27;2016-08-27&#x27;</span>, <span class="number">25</span>, <span class="number">5577002.48</span>,</span><br><span class="line">        <span class="string">&#x27;50b48f28b7b6c20069d7cd98af81d5876165a740&#x27;</span>, <span class="string">&#x27;DS11&#x27;</span>, <span class="string">&#x27;Jiang Wende&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE65&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;Caterpillar&#x27;</span>, <span class="string">&#x27;F1&#x27;</span>, <span class="string">&#x27;DM7&#x27;</span>, <span class="string">&#x27;1996-07-17&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">80</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="keyword">NULL</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Tian Yingxun&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE7&#x27;</span>, <span class="string">&#x27;784A3CD28D7DD4317B09E48EEC111845&#x27;</span>, <span class="string">&#x27;Hitachi&#x27;</span>, <span class="string">&#x27;T2&#x27;</span>, <span class="string">&#x27;DM8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1974-03-08&#x27;</span>, <span class="string">&#x27;1974-05-11&#x27;</span>, <span class="number">60</span>, <span class="number">8775220.37</span>,</span><br><span class="line">        <span class="string">&#x27;722450e49ae1d9c1a66c89ce2b311386fc522faa&#x27;</span>, <span class="string">&#x27;DS2&#x27;</span>, <span class="string">&#x27;He Junya&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE73&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM8&#x27;</span>, <span class="string">&#x27;2012-10-19&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">10</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE74&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;T1&#x27;</span>, <span class="string">&#x27;DM4&#x27;</span>, <span class="string">&#x27;2017-08-16&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">20</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Zhang San&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE8&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;W1&#x27;</span>, <span class="string">&#x27;DM9&#x27;</span>, <span class="string">&#x27;2015-01-19&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">40</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;Yu Wenchen&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE81&#x27;</span>, <span class="string">&#x27;BEBE4DA4350626D3E9958AAD9855DDCF&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;W1&#x27;</span>, <span class="string">&#x27;DM3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1980-08-26&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">20</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Jiang Wende&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE9&#x27;</span>, <span class="string">&#x27;BD6B6A6B4F5D22BC0B6B029637F9D9B9&#x27;</span>, <span class="string">&#x27;Doosan&#x27;</span>, <span class="string">&#x27;C1&#x27;</span>, <span class="string">&#x27;DM10&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2020-02-05&#x27;</span>, <span class="string">&#x27;2020-03-04&#x27;</span>, <span class="number">5</span>, <span class="number">7331117.98</span>,</span><br><span class="line">        <span class="string">&#x27;8e0ef9b37c44c687dfeefee91477a5d1365b93a5&#x27;</span>, <span class="string">&#x27;DS1&#x27;</span>, <span class="string">&#x27;Chen Yongjia&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE94&#x27;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;E1&#x27;</span>, <span class="string">&#x27;DM5&#x27;</span>, <span class="string">&#x27;1992-08-22&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">20</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Kong Qisui&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE97&#x27;</span>, <span class="string">&#x27;6999E1D078EE666E11ED37C24604F67A&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;C2&#x27;</span>, <span class="string">&#x27;DM3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2006-08-23&#x27;</span>, <span class="string">&#x27;2006-10-08&#x27;</span>, <span class="number">20</span>, <span class="number">4745741.95</span>,</span><br><span class="line">        <span class="string">&#x27;8deb24973d5e5aeb800b9ab941a6ff252eaf00bb&#x27;</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Wang Wu&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DE99&#x27;</span>, <span class="string">&#x27;D52DB316CC511547BC82C2655DC05E60&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;L1&#x27;</span>, <span class="string">&#x27;DM9&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2005-08-10&#x27;</span>, <span class="keyword">NULL</span>, <span class="number">10</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;Zhan Yangyu&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> lease_customers</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;LC1&#x27;</span>, <span class="string">&#x27;Jia Hong&#x27;</span>, <span class="string">&#x27;state-owned&#x27;</span>, <span class="string">&#x27;Bai Xinqing&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Kang Jianhua&#x27;</span>, <span class="string">&#x27;Zhejiang&#x27;</span>, <span class="string">&#x27;15274175281&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC10&#x27;</span>, <span class="string">&#x27;Qing Chuan&#x27;</span>, <span class="string">&#x27;sole proprietorship&#x27;</span>, <span class="string">&#x27;Kong Nianbai&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Jiao Xiuran&#x27;</span>, <span class="string">&#x27;Anhui&#x27;</span>, <span class="string">&#x27;12512489562&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC11&#x27;</span>, <span class="string">&#x27;Hong Jing&#x27;</span>, <span class="string">&#x27;state-owned&#x27;</span>, <span class="string">&#x27;Bai Youxin&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Zhuan Angrang&#x27;</span>, <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;14575158525&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC12&#x27;</span>, <span class="string">&#x27;Xie Sheng&#x27;</span>, <span class="string">&#x27;private&#x27;</span>, <span class="string">&#x27;Kong Nianbai&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Jiang Chenghua&#x27;</span>, <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;14582525478&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC13&#x27;</span>, <span class="string">&#x27;Sai Ji&#x27;</span>, <span class="string">&#x27;state-owned&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Guan Yingbiao&#x27;</span>, <span class="keyword">DEFAULT</span>, <span class="string">&#x27;17524184848&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC14&#x27;</span>, <span class="string">&#x27;Quan Li&#x27;</span>, <span class="string">&#x27;sole proprietorship&#x27;</span>, <span class="string">&#x27;Hui Haier&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Yuan Liguo&#x27;</span>, <span class="keyword">DEFAULT</span>, <span class="string">&#x27;18282748595&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC15&#x27;</span>, <span class="string">&#x27;Dong Fang&#x27;</span>, <span class="string">&#x27;administrative&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Chang Wenle&#x27;</span>, <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;17595928857&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC2&#x27;</span>, <span class="string">&#x27;Cheng Yuan&#x27;</span>, <span class="string">&#x27;public institutions&#x27;</span>, <span class="string">&#x27;Bai Xinqing&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Yi Hanxing&#x27;</span>, <span class="string">&#x27;Sichuang&#x27;</span>, <span class="string">&#x27;17754154862&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC3&#x27;</span>, <span class="string">&#x27;Cheng Yuan&#x27;</span>, <span class="string">&#x27;public institutions&#x27;</span>, <span class="string">&#x27;Bai Xinqing&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Su Huiyue&#x27;</span>, <span class="string">&#x27;Sichuang&#x27;</span>, <span class="string">&#x27;13841259655&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC4&#x27;</span>, <span class="string">&#x27;Rui Xing Da&#x27;</span>, <span class="string">&#x27;private&#x27;</span>, <span class="string">&#x27;Hui Haier&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Liu Xueming&#x27;</span>, <span class="string">&#x27;Hubei&#x27;</span>, <span class="string">&#x27;19214522157&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC5&#x27;</span>, <span class="string">&#x27;Tong Hui&#x27;</span>, <span class="string">&#x27;state-owned&#x27;</span>, <span class="string">&#x27;Bai Youxin&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Chang Chengyun&#x27;</span>, <span class="string">&#x27;Jiangxi&#x27;</span>, <span class="string">&#x27;15341584525&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC6&#x27;</span>, <span class="string">&#x27;Hu FU&#x27;</span>, <span class="string">&#x27;administrative&#x27;</span>, <span class="string">&#x27;Kong Nianbai&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Qiao Mingda&#x27;</span>, <span class="string">&#x27;Chongqi&#x27;</span>, <span class="string">&#x27;16817458652&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC7&#x27;</span>, <span class="string">&#x27;Mai Li&#x27;</span>, <span class="string">&#x27;joint ventures&#x27;</span>, <span class="string">&#x27;Bai Youxin&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Cao Wenxing&#x27;</span>, <span class="string">&#x27;Yunnan&#x27;</span>, <span class="string">&#x27;15714595147&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC8&#x27;</span>, <span class="string">&#x27;Da Yan&#x27;</span>, <span class="string">&#x27;joint ventures&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Wen Xingzhou&#x27;</span>, <span class="string">&#x27;Xian&#x27;</span>, <span class="string">&#x27;13541278951&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LC9&#x27;</span>, <span class="string">&#x27;Hua Tai&#x27;</span>, <span class="string">&#x27;private&#x27;</span>, <span class="string">&#x27;Hui Haier&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Dong Taichu&#x27;</span>, <span class="string">&#x27;Fujian&#x27;</span>, <span class="string">&#x27;14514756854&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> device_scrapped_records</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;DS1&#x27;</span>, <span class="string">&#x27;DE81&#x27;</span>, <span class="string">&#x27;2000-08-26&#x27;</span>, <span class="string">&#x27;exceed durable year&#x27;</span>, <span class="string">&#x27;Zhao Ziyang&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS10&#x27;</span>, <span class="string">&#x27;DE14&#x27;</span>, <span class="string">&#x27;2020-07-02&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;He Huan&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS11&#x27;</span>, <span class="string">&#x27;DE56&#x27;</span>, <span class="string">&#x27;2022-08-25&#x27;</span>, <span class="string">&#x27;exceed durable year&#x27;</span>, <span class="string">&#x27;Lu Jing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS12&#x27;</span>, <span class="string">&#x27;DE73&#x27;</span>, <span class="string">&#x27;2022-10-19&#x27;</span>, <span class="string">&#x27;exceed durable year&#x27;</span>, <span class="string">&#x27;Lu Jing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS2&#x27;</span>, <span class="string">&#x27;DE65&#x27;</span>, <span class="string">&#x27;2002-04-03&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;He Huan&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS3&#x27;</span>, <span class="string">&#x27;DE54&#x27;</span>, <span class="string">&#x27;2004-09-16&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;He Huan&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS4&#x27;</span>, <span class="string">&#x27;DE99&#x27;</span>, <span class="string">&#x27;2005-08-10&#x27;</span>, <span class="string">&#x27;exceed durable year&#x27;</span>, <span class="string">&#x27;He Jing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS5&#x27;</span>, <span class="string">&#x27;DE97&#x27;</span>, <span class="string">&#x27;2006-08-23&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;Lu Jing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS6&#x27;</span>, <span class="string">&#x27;DE94&#x27;</span>, <span class="string">&#x27;2012-08-22&#x27;</span>, <span class="string">&#x27;exceed durable year&#x27;</span>, <span class="string">&#x27;Zhao Ziyang&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS7&#x27;</span>, <span class="string">&#x27;DE1&#x27;</span>, <span class="string">&#x27;2019-08-26&#x27;</span>, <span class="string">&#x27;exceed durable year&#x27;</span>, <span class="string">&#x27;He Jing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS8&#x27;</span>, <span class="string">&#x27;DE74&#x27;</span>, <span class="string">&#x27;2020-03-11&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;He Jing&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;DS9&#x27;</span>, <span class="string">&#x27;DE4&#x27;</span>, <span class="string">&#x27;2020-07-02&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;He Huan&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> lease_records</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;LR1&#x27;</span>, <span class="string">&#x27;DE13&#x27;</span>, <span class="string">&#x27;LC15&#x27;</span>, <span class="string">&#x27;1976-08-11&#x27;</span>, <span class="number">60</span>, <span class="number">1600000.00</span>, <span class="string">&#x27;2036-08-11&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS3&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR2&#x27;</span>, <span class="string">&#x27;DE11&#x27;</span>, <span class="string">&#x27;LC13&#x27;</span>, <span class="string">&#x27;1978-02-25&#x27;</span>, <span class="number">50</span>, <span class="number">6800000.00</span>, <span class="string">&#x27;2028-02-25&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1978-02-25&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR3&#x27;</span>, <span class="string">&#x27;DE5&#x27;</span>, <span class="string">&#x27;LC5&#x27;</span>, <span class="string">&#x27;1984-09-19&#x27;</span>, <span class="number">20</span>, <span class="number">6000000.00</span>, <span class="string">&#x27;2004-09-19&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS6&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR4&#x27;</span>, <span class="string">&#x27;DE15&#x27;</span>, <span class="string">&#x27;LC5&#x27;</span>, <span class="string">&#x27;1989-07-13&#x27;</span>, <span class="number">50</span>, <span class="number">9600000.00</span>, <span class="string">&#x27;2039-07-13&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS3&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR5&#x27;</span>, <span class="string">&#x27;DE10&#x27;</span>, <span class="string">&#x27;LC15&#x27;</span>, <span class="string">&#x27;1994-11-01&#x27;</span>, <span class="number">20</span>, <span class="number">8000000.00</span>, <span class="string">&#x27;2014-11-01&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS6&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR6&#x27;</span>, <span class="string">&#x27;DE16&#x27;</span>, <span class="string">&#x27;LC6&#x27;</span>, <span class="string">&#x27;1995-09-13&#x27;</span>, <span class="number">50</span>, <span class="number">7600000.00</span>, <span class="string">&#x27;2045-09-13&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1995-09-13&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR7&#x27;</span>, <span class="string">&#x27;DE5&#x27;</span>, <span class="string">&#x27;LC4&#x27;</span>, <span class="string">&#x27;2004-10-21&#x27;</span>, <span class="number">10</span>, <span class="number">4800000.00</span>, <span class="string">&#x27;2014-10-21&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS6&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR8&#x27;</span>, <span class="string">&#x27;DE8&#x27;</span>, <span class="string">&#x27;LC15&#x27;</span>, <span class="string">&#x27;2016-01-22&#x27;</span>, <span class="number">20</span>, <span class="number">800000.00</span>, <span class="string">&#x27;2036-01-22&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2016-01-18&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR9&#x27;</span>, <span class="string">&#x27;DE6&#x27;</span>, <span class="string">&#x27;LC8&#x27;</span>, <span class="string">&#x27;2016-08-27&#x27;</span>, <span class="number">5</span>, <span class="number">2800000.00</span>, <span class="string">&#x27;2021-08-27&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS6&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR10&#x27;</span>, <span class="string">&#x27;DE9&#x27;</span>, <span class="string">&#x27;LC15&#x27;</span>, <span class="string">&#x27;2020-03-04&#x27;</span>, <span class="number">3</span>, <span class="number">2400000.00</span>, <span class="string">&#x27;2023-03-04&#x27;</span>, <span class="keyword">NULL</span>,</span><br><span class="line">        <span class="string">&#x27;DS6&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR11&#x27;</span>, <span class="string">&#x27;DE12&#x27;</span>, <span class="string">&#x27;LC7&#x27;</span>, <span class="string">&#x27;2023-07-12&#x27;</span>, <span class="number">10</span>, <span class="number">400000.00</span>, <span class="string">&#x27;2033-07-12&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2023-07-12&#x27;</span>, <span class="string">&#x27;DS3&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;LR12&#x27;</span>, <span class="string">&#x27;DE17&#x27;</span>, <span class="string">&#x27;LC15&#x27;</span>, <span class="string">&#x27;2023-07-25&#x27;</span>, <span class="number">10</span>, <span class="number">3200000.00</span>, <span class="string">&#x27;2033-07-25&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2023-04-10&#x27;</span>, <span class="string">&#x27;DS7&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> payment_records</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;PR6&#x27;</span>, <span class="string">&#x27;LR6&#x27;</span>, <span class="number">7600000.00</span>, <span class="string">&#x27;1995-09-13&#x27;</span>, <span class="string">&#x27;Qiao Mingda&#x27;</span>, <span class="string">&#x27;Kong Nianbai&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;PR2&#x27;</span>, <span class="string">&#x27;LR2&#x27;</span>, <span class="number">6800000.00</span>, <span class="string">&#x27;1978-02-25&#x27;</span>, <span class="string">&#x27;Guan Yingbiao&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;PR12&#x27;</span>, <span class="string">&#x27;LR12&#x27;</span>, <span class="number">3200000.00</span>, <span class="string">&#x27;2023-04-10&#x27;</span>, <span class="string">&#x27;Chang Wenle&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;PR8&#x27;</span>, <span class="string">&#x27;LR8&#x27;</span>, <span class="number">800000.00</span>, <span class="string">&#x27;2016-01-18&#x27;</span>, <span class="string">&#x27;Chang Wenle&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;PR11&#x27;</span>, <span class="string">&#x27;LR11&#x27;</span>, <span class="number">400000.00</span>, <span class="string">&#x27;2023-07-12&#x27;</span>, <span class="string">&#x27;Cao Wenxing&#x27;</span>, <span class="string">&#x27;Bai Youxin&#x27;</span>),</span><br><span class="line">       (<span class="string">&#x27;PR1&#x27;</span>, <span class="string">&#x27;LR1&#x27;</span>, <span class="number">1600000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>),</span><br><span class="line">       (<span class="string">&#x27;PR10&#x27;</span>, <span class="string">&#x27;LR10&#x27;</span>, <span class="number">2400000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>),</span><br><span class="line">       (<span class="string">&#x27;PR3&#x27;</span>, <span class="string">&#x27;LR3&#x27;</span>, <span class="number">6000000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>),</span><br><span class="line">       (<span class="string">&#x27;PR4&#x27;</span>, <span class="string">&#x27;LR4&#x27;</span>, <span class="number">9600000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>),</span><br><span class="line">       (<span class="string">&#x27;PR5&#x27;</span>, <span class="string">&#x27;LR5&#x27;</span>, <span class="number">8000000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>),</span><br><span class="line">       (<span class="string">&#x27;PR7&#x27;</span>, <span class="string">&#x27;LR7&#x27;</span>, <span class="number">4800000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>),</span><br><span class="line">       (<span class="string">&#x27;PR9&#x27;</span>, <span class="string">&#x27;LR9&#x27;</span>, <span class="number">2800000.00</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>);</span><br><span class="line"></span><br><span class="line">#   <span class="number">2.1</span> 设备详细资料视图</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> IF <span class="keyword">EXISTS</span> device_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> device_detail <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> device_id,</span><br><span class="line">       brand,</span><br><span class="line">       license,</span><br><span class="line">       mc.name                                      <span class="keyword">AS</span> major_category,</span><br><span class="line">       dc.name                                      <span class="keyword">AS</span> detailed_category,</span><br><span class="line">       dm.name                                      <span class="keyword">AS</span> device_model,</span><br><span class="line">       date_produced,</span><br><span class="line">       date_purchased,</span><br><span class="line">       (date_produced <span class="operator">+</span> <span class="type">INTERVAL</span> durable_year <span class="keyword">YEAR</span>) <span class="keyword">AS</span> date_expire,</span><br><span class="line">       price_purchased,</span><br><span class="line">       purchase_contract,</span><br><span class="line">       ds.name                                      <span class="keyword">AS</span> device_status,</span><br><span class="line">       manager</span><br><span class="line"><span class="keyword">FROM</span> device de,</span><br><span class="line">     major_categories mc,</span><br><span class="line">     detailed_categories dc,</span><br><span class="line">     device_models dm,</span><br><span class="line">     device_status ds</span><br><span class="line"><span class="keyword">WHERE</span> de.detailedCategories_id <span class="operator">=</span> dc.detailedCategories_id</span><br><span class="line">  <span class="keyword">AND</span> dc.majorCategories_id <span class="operator">=</span> mc.majorCategories_id</span><br><span class="line">  <span class="keyword">AND</span> de.deviceModels_id <span class="operator">=</span> dm.deviceModels_id</span><br><span class="line">  <span class="keyword">AND</span> de.deviceStatus_id <span class="operator">=</span> ds.deviceStatus_id;</span><br><span class="line"></span><br><span class="line">#   <span class="number">2.2</span> 设备租赁记录详细资料视图</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> IF <span class="keyword">EXISTS</span> lease_records_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> lease_records_detail <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> leaseRecords_id,</span><br><span class="line">       device_id,</span><br><span class="line">       company_name,</span><br><span class="line">       company_type,</span><br><span class="line">       responsible_person,</span><br><span class="line">       contact_person,</span><br><span class="line">       address,</span><br><span class="line">       contact_number,</span><br><span class="line">       lease_time,</span><br><span class="line">       lease_term,</span><br><span class="line">       date_returned,</span><br><span class="line">       date_payment,</span><br><span class="line">       name <span class="keyword">AS</span> device_status</span><br><span class="line"><span class="keyword">FROM</span> lease_records lr,</span><br><span class="line">     lease_customers lc,</span><br><span class="line">     device_status ds</span><br><span class="line"><span class="keyword">WHERE</span> lr.leaseCustomers_id <span class="operator">=</span> lc.leaseCustomers_id</span><br><span class="line">  <span class="keyword">AND</span> lr.deviceStatus_id <span class="operator">=</span> ds.deviceStatus_id;</span><br><span class="line"></span><br><span class="line">#   <span class="number">2.3</span> 设备报废详细资料视图</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> IF <span class="keyword">EXISTS</span> device_scrapped_records_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> device_scrapped_records_detail <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> deviceScrappedRecords_id,</span><br><span class="line">       de.device_id,</span><br><span class="line">       date_produced,</span><br><span class="line">       durable_year,</span><br><span class="line">       date_scrapped,</span><br><span class="line">       reason,</span><br><span class="line">       manger_approval</span><br><span class="line"><span class="keyword">FROM</span> device_scrapped_records dsc,</span><br><span class="line">     device de</span><br><span class="line"><span class="keyword">WHERE</span> dsc.device_id <span class="operator">=</span> de.device_id;</span><br><span class="line"></span><br><span class="line">#  <span class="number">3.1</span> 租赁一台设备存储过程</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> lease_device;</span><br><span class="line"></span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> lease_device(</span><br><span class="line">    de_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    co_na <span class="type">VARCHAR</span>(<span class="number">128</span>),</span><br><span class="line">    le_ti <span class="type">DATE</span>,</span><br><span class="line">    le_te <span class="type">INT</span>,</span><br><span class="line">    le_pr <span class="type">DECIMAL</span>(<span class="number">9</span>, <span class="number">2</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> ds_id <span class="type">CHAR</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">DECLARE</span> lc_id <span class="type">CHAR</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">DECLARE</span> cnt <span class="type">INT</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> deviceStatus_id</span><br><span class="line">    <span class="keyword">INTO</span> ds_id</span><br><span class="line">    <span class="keyword">FROM</span> device</span><br><span class="line">    <span class="keyword">WHERE</span> device_id <span class="operator">=</span> de_id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> leaseCustomers_id</span><br><span class="line">    <span class="keyword">INTO</span> lc_id</span><br><span class="line">    <span class="keyword">FROM</span> lease_customers</span><br><span class="line">    <span class="keyword">WHERE</span> company_name <span class="operator">=</span> co_na;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">+</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">INTO</span> cnt</span><br><span class="line">    <span class="keyword">FROM</span> lease_records;</span><br><span class="line"></span><br><span class="line">    IF (ds_id <span class="operator">!=</span> <span class="string">&#x27;DS2&#x27;</span> <span class="keyword">AND</span> lc_id <span class="keyword">IS</span> <span class="keyword">NULL</span>) <span class="keyword">THEN</span></span><br><span class="line">        <span class="keyword">ROLLBACK</span>;</span><br><span class="line">    <span class="keyword">ELSE</span></span><br><span class="line">        <span class="keyword">UPDATE</span> device</span><br><span class="line">        <span class="keyword">SET</span> deviceStatus_id <span class="operator">=</span> <span class="string">&#x27;DS3&#x27;</span></span><br><span class="line">        <span class="keyword">WHERE</span> device_id <span class="operator">=</span> de_id;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">INSERT</span> <span class="keyword">INTO</span> lease_records</span><br><span class="line">        <span class="keyword">VALUES</span> (CONCAT(<span class="string">&#x27;LR&#x27;</span>, cnt), de_id, lc_id, le_ti, le_te, le_pr,</span><br><span class="line">                lease_time <span class="operator">+</span> <span class="type">INTERVAL</span> le_te <span class="keyword">YEAR</span>, <span class="keyword">DEFAULT</span>, <span class="string">&#x27;DS7&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">INSERT</span> <span class="keyword">INTO</span> payment_records</span><br><span class="line">        <span class="keyword">VALUES</span> (CONCAT(<span class="string">&#x27;PR&#x27;</span>, cnt), CONCAT(<span class="string">&#x27;LR&#x27;</span>, cnt), le_pr, <span class="keyword">DEFAULT</span>,</span><br><span class="line">                <span class="keyword">DEFAULT</span>, <span class="keyword">DEFAULT</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">COMMIT</span>;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">#   <span class="keyword">CALL</span> lease_device(<span class="string">&#x27;DE18&#x27;</span>, <span class="string">&#x27;Dong Fang&#x27;</span>, <span class="string">&#x27;2023-06-12&#x27;</span>, <span class="number">5</span>, <span class="number">10000.00</span>);</span><br><span class="line"></span><br><span class="line">#   <span class="number">3.2</span> 报废一台设备存储过程</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> scrap_device;</span><br><span class="line"></span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> scrap_device(</span><br><span class="line">    de_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    re <span class="type">VARCHAR</span>(<span class="number">128</span>),</span><br><span class="line">    manger <span class="type">VARCHAR</span>(<span class="number">128</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> cnt <span class="type">INT</span>;</span><br><span class="line">    <span class="keyword">DECLARE</span> ds_id <span class="type">VARCHAR</span>(<span class="number">128</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> deviceStatus_id</span><br><span class="line">    <span class="keyword">INTO</span> ds_id</span><br><span class="line">    <span class="keyword">FROM</span> device</span><br><span class="line">    <span class="keyword">WHERE</span> device_id <span class="operator">=</span> de_id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">+</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">INTO</span> cnt</span><br><span class="line">    <span class="keyword">FROM</span> device_scrapped_records;</span><br><span class="line"></span><br><span class="line">    IF (ds_id <span class="operator">!=</span> <span class="string">&#x27;DS5&#x27;</span>) <span class="keyword">THEN</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">INSERT</span> <span class="keyword">INTO</span> device_scrapped_records</span><br><span class="line">        <span class="keyword">VALUES</span> (CONCAT(<span class="string">&#x27;DS&#x27;</span>, cnt), de_id, <span class="type">DATE</span>(NOW()), re, manger);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">UPDATE</span> device</span><br><span class="line">        <span class="keyword">SET</span> deviceStatus_id <span class="operator">=</span> <span class="string">&#x27;DS5&#x27;</span></span><br><span class="line">        <span class="keyword">WHERE</span> device_id <span class="operator">=</span> de_id;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">COMMIT</span>;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">#   <span class="keyword">CALL</span> scrap_device(<span class="string">&#x27;DE10&#x27;</span>, <span class="string">&#x27;damage&#x27;</span>, <span class="string">&#x27;Shu Pengxing&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#   <span class="number">3.3</span> 接收一台付款存储过程</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> pay_device;</span><br><span class="line"></span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> pay_device(</span><br><span class="line">    lr_id <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">    acc_pay <span class="type">VARCHAR</span>(<span class="number">128</span>),</span><br><span class="line">    acc_col <span class="type">VARCHAR</span>(<span class="number">128</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">DECLARE</span> da_pa <span class="type">DATE</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> date_payment</span><br><span class="line">    <span class="keyword">INTO</span> da_pa</span><br><span class="line">    <span class="keyword">FROM</span> lease_records</span><br><span class="line">    <span class="keyword">WHERE</span> device_id <span class="operator">=</span> lr_id;</span><br><span class="line"></span><br><span class="line">    IF (da_pa <span class="keyword">IS</span> <span class="keyword">NULL</span>) <span class="keyword">THEN</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">UPDATE</span> lease_records</span><br><span class="line">        <span class="keyword">SET</span> deviceStatus_id <span class="operator">=</span> <span class="string">&#x27;DS3&#x27;</span>,</span><br><span class="line">            date_payment    <span class="operator">=</span> <span class="type">DATE</span>(NOW())</span><br><span class="line">        <span class="keyword">WHERE</span> leaseRecords_id <span class="operator">=</span> lr_id;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">UPDATE</span> payment_records</span><br><span class="line">        <span class="keyword">SET</span> date_payment       <span class="operator">=</span> <span class="type">DATE</span>(NOW()),</span><br><span class="line">            account_payment    <span class="operator">=</span> acc_pay,</span><br><span class="line">            account_collection <span class="operator">=</span> acc_col</span><br><span class="line">        <span class="keyword">WHERE</span> leaseRecords_id <span class="operator">=</span> lr_id;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">COMMIT</span>;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">#   <span class="keyword">CALL</span> pay_device(<span class="string">&#x27;LR10&#x27;</span>, <span class="string">&#x27;Chang Wenle&#x27;</span>, <span class="string">&#x27;Fu Yun&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#   <span class="number">3.4</span> 归还一台设备存储过程</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> return_device;</span><br><span class="line"></span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> return_device(</span><br><span class="line">    lr_id <span class="type">CHAR</span>(<span class="number">10</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> de_id <span class="type">CHAR</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">SELECT</span> device_id</span><br><span class="line">    <span class="keyword">INTO</span> de_id</span><br><span class="line">    <span class="keyword">FROM</span> lease_records</span><br><span class="line">    <span class="keyword">WHERE</span> leaseRecords_id <span class="operator">=</span> lr_id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">UPDATE</span> device</span><br><span class="line">    <span class="keyword">SET</span> deviceStatus_id <span class="operator">=</span> <span class="string">&#x27;DS2&#x27;</span></span><br><span class="line">    <span class="keyword">WHERE</span> device_id <span class="operator">=</span> de_id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">UPDATE</span> lease_records</span><br><span class="line">    <span class="keyword">SET</span> deviceStatus_id <span class="operator">=</span> <span class="string">&#x27;DS6&#x27;</span></span><br><span class="line">    <span class="keyword">WHERE</span> leaseRecords_id <span class="operator">=</span> lr_id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">#   <span class="keyword">CALL</span>  return_device(<span class="string">&#x27;LR2&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#   <span class="number">4.1</span> 查询某公司租用所有设备的详细记录</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> lease_records_detail</span><br><span class="line"><span class="keyword">WHERE</span> company_name <span class="operator">=</span> <span class="string">&#x27;Dong Fang&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#   <span class="number">4.2</span> 查询某公司所有的付款记录</span><br><span class="line"><span class="keyword">SELECT</span> pr.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> payment_records pr,</span><br><span class="line">     lease_records lr,</span><br><span class="line">     lease_customers lc</span><br><span class="line"><span class="keyword">WHERE</span> pr.leaseRecords_id <span class="operator">=</span> lr.leaseRecords_id</span><br><span class="line">  <span class="keyword">AND</span> lr.leaseCustomers_id <span class="operator">=</span> lc.leaseCustomers_id</span><br><span class="line">  <span class="keyword">AND</span> lc.company_name <span class="operator">=</span> <span class="string">&#x27;Dong Fang&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#   <span class="number">4.3</span> 查询某公司应付款总额</span><br><span class="line"><span class="keyword">SELECT</span> lc.company_name,</span><br><span class="line">       <span class="built_in">SUM</span>(amount) <span class="keyword">AS</span> should_pay</span><br><span class="line"><span class="keyword">FROM</span> payment_records pr,</span><br><span class="line">     lease_records lr,</span><br><span class="line">     lease_customers lc</span><br><span class="line"><span class="keyword">WHERE</span> pr.leaseRecords_id <span class="operator">=</span> lr.leaseRecords_id</span><br><span class="line">  <span class="keyword">AND</span> lr.leaseCustomers_id <span class="operator">=</span> lc.leaseCustomers_id</span><br><span class="line">  <span class="keyword">AND</span> lc.company_name <span class="operator">=</span> <span class="string">&#x27;Dong Fang&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> pr.date_payment <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#   <span class="number">4.4</span> 查询某公司正在租用的设备详细信息</span><br><span class="line"><span class="keyword">SELECT</span> lc.company_name,</span><br><span class="line">       dd.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> lease_records lr,</span><br><span class="line">     lease_customers lc,</span><br><span class="line">     device_detail dd</span><br><span class="line"><span class="keyword">WHERE</span> lr.leaseCustomers_id <span class="operator">=</span> lc.leaseCustomers_id</span><br><span class="line">  <span class="keyword">AND</span> lc.company_name <span class="operator">=</span> <span class="string">&#x27;Dong Fang&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> lr.deviceStatus_id <span class="operator">=</span> <span class="string">&#x27;DS3&#x27;</span></span><br><span class="line">  <span class="keyword">AND</span> dd.device_id <span class="operator">=</span> lr.device_id;</span><br><span class="line"></span><br><span class="line">#   <span class="number">4.5</span> 查询报废设备详细记录</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> device_scrapped_records_detail;</span><br></pre></td></tr></table></figure></div>
<hr>
<p>COPYRIGHT (c) OLENCER. ALL RIGHTS RESERVED.</p>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> 2023/06/13 数据库互相借鉴</li>
        <li><strong>Author:</strong> OLENCER.</li>
        <li><strong>Created at:</strong> 2023-06-13 22:00:00</li>
        
            <li>
                <strong>Updated at:</strong> 2023-06-14 15:35:44
            </li>
        
        <li>
            <strong>Link:</strong> https://olencer.github.io/负能量/数据库互相借鉴/
        </li>
        <li>
            <strong>License:</strong> This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>.
        </li>
    </ul>
</div>

                </div>
            

            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/%E8%B4%9F%E8%83%BD%E9%87%8F/%E5%AF%B9%E4%BF%A1%E6%81%AF%E7%9A%84%E6%80%9D%E8%80%83/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">2023/06/13 对信息的思考</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/%E8%B4%9F%E8%83%BD%E9%87%8F/%E8%B4%9F%E8%83%BD%E9%87%8F/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">负能量</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
                <div class="comment-container">
                    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;Comments
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-pjax>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'blog-comments-eosin-six.vercel.app',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">2023/06/13 数据库互相借鉴</div>
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E4%B8%9A%E8%A6%81%E6%B1%82"><span class="nav-text">作业要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A7%9C%E5%90%8C%E5%AD%A6%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="nav-text">姜同学的代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%91%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%88%E9%A3%8E%E6%A0%BC%E8%BF%98%E6%B2%A1%E6%88%90%E5%9E%8B%EF%BC%8C%E7%8C%AE%E4%B8%AA%E4%B8%91%E3%80%82%EF%BC%89"><span class="nav-text">我的代码（风格还没成型，献个丑。）</span></a></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2023</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">OLENCER.</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br>
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.1.5</a>
        </div>
        
        
        
            <div id="start_div" style="display:none">
                2023/5/14 00:00:00
            </div>
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/navbarShrink.js"></script>

<script src="/js/tools/scrollTopBottom.js"></script>

<script src="/js/tools/lightDarkSwitch.js"></script>





    
<script src="/js/tools/codeBlock.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js"></script>







<div class="post-scripts pjax">
    
        
<script src="/js/tools/tocToggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
